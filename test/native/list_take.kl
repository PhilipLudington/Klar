// Test List.take() iterator adapter

fn main() -> i32 {
    // Test 1: take from non-empty list
    var nums: List[i32] = List.new[i32]()
    nums.push(1)
    nums.push(2)
    nums.push(3)
    nums.push(4)
    nums.push(5)

    let taken: List[i32] = nums.take(3)
    assert_eq(taken.len(), 3)
    assert_eq(taken.get(0) ?? -1, 1)
    assert_eq(taken.get(1) ?? -1, 2)
    assert_eq(taken.get(2) ?? -1, 3)

    // Test 2: take(0) returns empty list
    let empty: List[i32] = nums.take(0)
    assert_eq(empty.len(), 0)

    // Test 3: take more than length returns all elements
    let all: List[i32] = nums.take(10)
    assert_eq(all.len(), 5)
    assert_eq(all.get(0) ?? -1, 1)
    assert_eq(all.get(4) ?? -1, 5)

    // Test 4: take from empty list
    var empty_list: List[i32] = List.new[i32]()
    let from_empty: List[i32] = empty_list.take(5)
    assert_eq(from_empty.len(), 0)

    // Test 5: original list is unchanged
    assert_eq(nums.len(), 5)

    print("All list.take() tests passed!")
    return 0
}
