// Test: Extern struct declarations
// Extern structs have C-compatible memory layout

// Basic extern struct with primitive fields
extern struct Point {
    x: i32,
    y: i32,
}

// Public extern struct
pub extern struct Size {
    width: u32,
    height: u32,
}

// Extern struct with various primitive types
extern struct MixedFields {
    a: i8,
    b: i16,
    c: i32,
    d: i64,
}

fn main() -> i32 {
    // Create extern struct instances
    let p: Point = Point { x: 10, y: 20 }

    // For non-i32 fields, use explicit conversions
    let w: u32 = 100.as[u32]
    let h: u32 = 200.as[u32]
    let s: Size = Size { width: w, height: h }

    // Access fields
    let px: i32 = p.x
    let py: i32 = p.y
    let sw: u32 = s.width
    let sh: u32 = s.height

    // Create mixed fields struct
    let a: i8 = 1.as[i8]
    let b: i16 = 2.as[i16]
    let d: i64 = 4.as[i64]
    let m: MixedFields = MixedFields { a: a, b: b, c: 3, d: d }

    // Verify values
    if px == 10 and py == 20 {
        if sw == 100.as[u32] and sh == 200.as[u32] {
            if m.c == 3 {
                return 0
            }
        }
    }
    return 1
}
