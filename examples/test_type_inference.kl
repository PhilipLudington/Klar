// Test: Type inference at generic call sites
// Verifies that the checker infers concrete types from arguments

// Generic identity function - T should be inferred from argument
fn identity[T](x: T) -> T {
    return x;
}

// Generic function with two params of same type
fn first_of_pair[T](a: T, b: T) -> T {
    return a;
}

// Generic function with multiple type params
fn make_pair[A, B](a: A, b: B) -> (A, B) {
    return (a, b);
}

fn main() {
    // Test 1: Infer T = i32 from argument 42
    let x = identity(42);
    // x should have type i32

    // Test 2: Infer T = string from argument
    let s = identity("hello");
    // s should have type string

    // Test 3: Infer T = bool from argument
    let b = identity(true);
    // b should have type bool

    // Test 4: Both params must unify to same type
    let y = first_of_pair(10, 20);
    // y should have type i32

    // Test 5: Multiple type params inferred independently
    let pair = make_pair(42, "hello");
    // pair should have type (i32, string)

    println("Type inference tests passed!");
}
